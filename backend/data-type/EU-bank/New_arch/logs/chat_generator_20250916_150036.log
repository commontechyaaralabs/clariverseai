2025-09-16 15:00:36,601 - INFO - EU Banking Chat Analysis Generator Starting...
2025-09-16 15:00:36,601 - INFO - Database: sparzaai
2025-09-16 15:00:36,601 - INFO - Collection: chatmessages
2025-09-16 15:00:36,601 - INFO - Model: gemma3:27b
2025-09-16 15:00:36,601 - INFO - Ollama URL: https://provide-certainly-comes-carnival.trycloudflare.com
2025-09-16 15:00:36,601 - INFO - Max Workers: 5
2025-09-16 15:00:36,601 - INFO - Batch Size: 5
2025-09-16 15:00:36,601 - INFO - Log Directory: logs
2025-09-16 15:00:37,610 - INFO - Database connection established and indexes created
2025-09-16 15:00:37,990 - INFO - Collection Statistics:
2025-09-16 15:00:37,990 - INFO - Total chats: 600
2025-09-16 15:00:37,990 - INFO - With analysis fields: 0
2025-09-16 15:00:37,990 - INFO - Top Dominant Topics:
2025-09-16 15:00:37,990 - INFO - 1. Network Performance Issue: 16 chats
2025-09-16 15:00:37,990 - INFO - 2. Attendance Management Alert: 16 chats
2025-09-16 15:00:37,990 - INFO - 3. Compliance Monitoring Update: 14 chats
2025-09-16 15:00:37,990 - INFO - 4. Monthly Compliance Audit: 14 chats
2025-09-16 15:00:37,990 - INFO - 5. Software Issue Resolution: 14 chats
2025-09-16 15:00:37,990 - INFO - 6. Documentation Request Alert: 14 chats
2025-09-16 15:00:37,991 - INFO - 7. Financial Reporting Procedure: 13 chats
2025-09-16 15:00:37,991 - INFO - 8. Technology Provider Communication: 13 chats
2025-09-16 15:00:37,991 - INFO - 9. Pipeline Management Discussion: 13 chats
2025-09-16 15:00:37,991 - INFO - 10. Performance Metric Tracking: 13 chats
2025-09-16 15:00:37,991 - INFO - No pending intermediate results to recover
2025-09-16 15:00:37,991 - INFO - Starting EU Banking Chat Analysis Generation...
2025-09-16 15:00:37,991 - INFO - System Info: 128 CPU cores detected
2025-09-16 15:00:37,991 - INFO - Batch size: 5
2025-09-16 15:00:37,991 - INFO - Max workers: 5
2025-09-16 15:00:37,991 - INFO - Request timeout: 120s
2025-09-16 15:00:37,991 - INFO - Max retries per request: 5
2025-09-16 15:00:37,991 - INFO - Testing connection to remote Ollama: https://provide-certainly-comes-carnival.trycloudflare.com
2025-09-16 15:00:37,991 - INFO - Testing simple generation...
2025-09-16 15:00:43,936 - INFO - Generation test status: 200
2025-09-16 15:00:43,936 - INFO - Ollama connection test successful
2025-09-16 15:00:43,937 - INFO - Test response: ```json
{
  "test": "success"
}
```
...
2025-09-16 15:00:43,937 - INFO - Fetching chat records from database...
2025-09-16 15:00:45,113 - INFO - Found 600 chats needing analysis generation
2025-09-16 15:00:45,113 - INFO - Processing in 120 batches of 5 chats each
2025-09-16 15:00:45,113 - INFO - Processing batch 1/120 (5 chats)...
2025-09-16 15:00:45,113 - INFO - Starting 5 tasks with 5 workers
2025-09-16 15:00:45,118 - INFO - Submitted 5 tasks to worker pool
2025-09-16 15:01:05,455 - INFO - Worker completed task 1/5 - Chat ID: 19:16adc0b3fbdb453575026d18@thread.v2
2025-09-16 15:01:18,034 - INFO - Worker completed task 2/5 - Chat ID: 19:deefca54f22297d217c940eb@thread.v2
2025-09-16 15:01:18,034 - INFO - Batch progress: 40.0% (2/5) - Active workers: 5
2025-09-16 15:01:31,778 - INFO - Worker completed task 3/5 - Chat ID: 19:543d858bbe5014ca52eb67d8@thread.v2
2025-09-16 15:01:45,694 - INFO - Worker completed task 4/5 - Chat ID: 19:ba15dbb16d84065ae18d10ad@thread.v2
2025-09-16 15:01:45,694 - INFO - Batch progress: 80.0% (4/5) - Active workers: 5
2025-09-16 15:01:58,709 - INFO - Worker completed task 5/5 - Chat ID: 19:b9dfb1c6a2fc7d4fbac36afc@thread.v2
2025-09-16 15:01:58,710 - INFO - Batch 1 processing complete: 5/5 successful
2025-09-16 15:01:58,710 - INFO - Batch duration: 73.60s
2025-09-16 15:01:58,710 - INFO - Worker utilization: 5 workers processed 5 tasks
2025-09-16 15:01:58,710 - INFO - Saving batch of 5 updates to database...
2025-09-16 15:01:58,839 - INFO - Successfully saved 5 records to database
2025-09-16 15:01:58,839 - INFO - Sample update - Chat ID: 19:16adc0b3fbdb453575026d18@thread.v2
2025-09-16 15:01:58,839 - INFO - Database update complete: 5 records saved
2025-09-16 15:02:03,839 - INFO - Processing batch 2/120 (5 chats)...
2025-09-16 15:02:03,840 - INFO - Starting 5 tasks with 5 workers
2025-09-16 15:02:03,845 - INFO - Submitted 5 tasks to worker pool
2025-09-16 15:02:16,179 - INFO - Worker completed task 1/5 - Chat ID: 19:29e6ecc0deee435c0d22ed0c@thread.v2
2025-09-16 15:02:30,070 - INFO - Worker completed task 2/5 - Chat ID: 19:e0860f845ea74db6c0f54a98@thread.v2
2025-09-16 15:02:30,070 - INFO - Batch progress: 40.0% (2/5) - Active workers: 5
2025-09-16 15:02:44,727 - INFO - Worker completed task 3/5 - Chat ID: 19:b3e5ed8ecbddb2e8fc0a3120@thread.v2
2025-09-16 15:02:56,948 - INFO - Worker completed task 4/5 - Chat ID: 19:6d6d2c4ee7e891215ae2fce9@thread.v2
2025-09-16 15:02:56,948 - INFO - Batch progress: 80.0% (4/5) - Active workers: 5
2025-09-16 15:02:59,908 - INFO - Received signal 2. Initiating graceful shutdown...
2025-09-16 15:02:59,909 - INFO - Please wait for current operations to complete...
2025-09-16 15:03:10,053 - WARNING - Cancelling remaining tasks...
2025-09-16 15:03:10,054 - INFO - Batch 2 processing complete: 4/5 successful
2025-09-16 15:03:10,054 - INFO - Batch duration: 66.21s
2025-09-16 15:03:10,054 - INFO - Worker utilization: 5 workers processed 5 tasks
2025-09-16 15:03:10,054 - INFO - Shutdown requested. Stopping at batch 2/120
2025-09-16 15:03:10,054 - INFO - Chat analysis interrupted gracefully!
2025-09-16 15:03:10,054 - INFO - Total chats updated: 5
2025-09-16 15:03:10,054 - INFO - Successful generations: 10
2025-09-16 15:03:10,054 - INFO - Failed generations: 0
2025-09-16 15:03:10,054 - INFO - Data updated in MongoDB: sparzaai.chatmessages
2025-09-16 15:03:10,443 - INFO - Collection Statistics:
2025-09-16 15:03:10,444 - INFO - Total chats: 600
2025-09-16 15:03:10,444 - INFO - With analysis fields: 5
2025-09-16 15:03:10,444 - INFO - Top Dominant Topics:
2025-09-16 15:03:10,444 - INFO - 1. Network Performance Issue: 16 chats
2025-09-16 15:03:10,444 - INFO - 2. Attendance Management Alert: 16 chats
2025-09-16 15:03:10,444 - INFO - 3. Compliance Monitoring Update: 14 chats
2025-09-16 15:03:10,444 - INFO - 4. Monthly Compliance Audit: 14 chats
2025-09-16 15:03:10,444 - INFO - 5. Software Issue Resolution: 14 chats
2025-09-16 15:03:10,444 - INFO - 6. Documentation Request Alert: 14 chats
2025-09-16 15:03:10,444 - INFO - 7. Financial Reporting Procedure: 13 chats
2025-09-16 15:03:10,445 - INFO - 8. Technology Provider Communication: 13 chats
2025-09-16 15:03:10,445 - INFO - 9. Pipeline Management Discussion: 13 chats
2025-09-16 15:03:10,445 - INFO - 10. Performance Metric Tracking: 13 chats
2025-09-16 15:03:10,695 - INFO - Sample Generated Chat Content:
2025-09-16 15:03:10,695 - INFO - --- Sample Chat 1 ---
2025-09-16 15:03:10,695 - INFO - Chat ID: 19:deefca54f22297d217c940eb@thread.v2
2025-09-16 15:03:10,695 - INFO - Dominant Topic: Financial Reporting Procedure
2025-09-16 15:03:10,695 - INFO - Subtopics: Regular Reporting Process, Audit Preparation Coordination...
2025-09-16 15:03:10,695 - INFO - Stages: Resolve
2025-09-16 15:03:10,695 - INFO - Chat Summary: This 17-message chat between Derrick Perry and Alexa Thomas focuses on coordinating and finalizing details related to financial reporting procedures, specifically concerning an upcoming audit. The con...
2025-09-16 15:03:10,695 - INFO - Message Count: 17
2025-09-16 15:03:10,695 - INFO - Urgent: False
2025-09-16 15:03:10,695 - INFO - --- Sample Chat 2 ---
2025-09-16 15:03:10,695 - INFO - Chat ID: 19:b9dfb1c6a2fc7d4fbac36afc@thread.v2
2025-09-16 15:03:10,695 - INFO - Dominant Topic: Software Issue Resolution
2025-09-16 15:03:10,695 - INFO - Subtopics: Application Bug Fix, System Problem Solving, Configuration Help...
2025-09-16 15:03:10,695 - INFO - Stages: Resolve
2025-09-16 15:03:10,695 - INFO - Chat Summary: This 17-message chat thread appears to document a software issue resolution process within an EU banking context. Michelle Brown initially reports a problem, likely related to an application or system...
2025-09-16 15:03:10,695 - INFO - Message Count: 17
2025-09-16 15:03:10,695 - INFO - Urgent: False
2025-09-16 15:03:10,696 - INFO - --- Sample Chat 3 ---
2025-09-16 15:03:10,696 - INFO - Chat ID: 19:ba15dbb16d84065ae18d10ad@thread.v2
2025-09-16 15:03:10,696 - INFO - Dominant Topic: Audit Feedback Review
2025-09-16 15:03:10,696 - INFO - Subtopics: Control Weakness Discussion, Corrective Action Timeline...
2025-09-16 15:03:10,696 - INFO - Stages: Resolve
2025-09-16 15:03:10,696 - INFO - Chat Summary: This 17-message chat between Keith Jenkins and Christopher Fitzgerald centers around a review of audit feedback within an EU banking context. The conversation appears to progress from initial feedback...
2025-09-16 15:03:10,696 - INFO - Message Count: 17
2025-09-16 15:03:10,696 - INFO - Urgent: False
2025-09-16 15:03:10,827 - INFO - Content validation complete: 5 issues found
2025-09-16 15:03:10,827 - WARNING - Found 5 content validation issues
2025-09-16 15:03:11,082 - INFO - Status report generated: logs/chat_status_report_20250916_150310.json
2025-09-16 15:03:11,082 - INFO - Final session report:
2025-09-16 15:03:11,082 - INFO - Success Rate: 100.00%
2025-09-16 15:03:11,082 - INFO - Database Completion: 0.83%
2025-09-16 15:03:11,208 - INFO - Database connection closed
2025-09-16 15:03:11,208 - INFO - Session complete. Check log files for detailed information:
2025-09-16 15:03:11,208 - INFO - Main Log: logs/chat_generator_20250916_150036.log
2025-09-16 15:03:11,208 - INFO - Success Log: logs/successful_chat_generations_20250916_150036.log
2025-09-16 15:03:11,208 - INFO - Failure Log: logs/failed_chat_generations_20250916_150036.log
2025-09-16 15:03:11,208 - INFO - Progress Log: logs/chat_progress_20250916_150036.log
2025-09-16 15:03:11,208 - INFO - Intermediate Results: logs/chat_intermediate_results_20250916_150036.json
2025-09-16 15:03:11,209 - INFO - Database connection closed
