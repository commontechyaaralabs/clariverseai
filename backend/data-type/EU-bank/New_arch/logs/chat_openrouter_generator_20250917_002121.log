2025-09-17 00:21:22,086 - INFO - EU Banking Chat Content Generator with OpenRouter Starting...
2025-09-17 00:21:22,086 - INFO - Database: sparzaai
2025-09-17 00:21:22,086 - INFO - Collection: chatmessages
2025-09-17 00:21:22,086 - INFO - Model: google/gemma-3-27b-it:free
2025-09-17 00:21:22,087 - INFO - OpenRouter URL: https://openrouter.ai/api/v1/chat/completions
2025-09-17 00:21:22,087 - INFO - Max Workers: 2
2025-09-17 00:21:22,087 - INFO - Batch Size: 3
2025-09-17 00:21:22,087 - INFO - Log Directory: logs
2025-09-17 00:21:24,233 - INFO - Database connection established and indexes created
2025-09-17 00:21:24,990 - INFO - Collection Statistics:
2025-09-17 00:21:24,994 - INFO - Total chats: 600
2025-09-17 00:21:24,994 - INFO - With analysis fields: 0
2025-09-17 00:21:24,994 - INFO - Top Dominant Topics:
2025-09-17 00:21:24,995 - INFO - 1. Attendance Management Alert: 16 chats
2025-09-17 00:21:24,995 - INFO - 2. Network Performance Issue: 16 chats
2025-09-17 00:21:24,995 - INFO - 3. Software Issue Resolution: 14 chats
2025-09-17 00:21:24,996 - INFO - 4. Documentation Request Alert: 14 chats
2025-09-17 00:21:24,996 - INFO - 5. Compliance Monitoring Update: 14 chats
2025-09-17 00:21:24,997 - INFO - 6. Monthly Compliance Audit: 14 chats
2025-09-17 00:21:24,997 - INFO - 7. Pipeline Management Discussion: 13 chats
2025-09-17 00:21:24,997 - INFO - 8. Performance Metric Tracking: 13 chats
2025-09-17 00:21:24,997 - INFO - 9. Technology Provider Communication: 13 chats
2025-09-17 00:21:24,998 - INFO - 10. Financial Reporting Procedure: 13 chats
2025-09-17 00:21:24,998 - INFO - No pending intermediate results to recover
2025-09-17 00:21:24,998 - INFO - Starting EU Banking Chat Content Generation with OpenRouter...
2025-09-17 00:21:24,998 - INFO - System Info: 16 CPU cores detected
2025-09-17 00:21:24,998 - INFO - Batch size: 3
2025-09-17 00:21:24,998 - INFO - Max workers: 2
2025-09-17 00:21:24,999 - INFO - Request timeout: 120s
2025-09-17 00:21:24,999 - INFO - Max retries per request: 5
2025-09-17 00:21:24,999 - INFO - Testing connection to OpenRouter: https://openrouter.ai/api/v1/chat/completions
2025-09-17 00:21:24,999 - INFO - Testing simple generation...
2025-09-17 00:21:28,083 - INFO - Generation test status: 200
2025-09-17 00:21:28,084 - INFO - OpenRouter connection test successful
2025-09-17 00:21:28,085 - INFO - Test response: ```json
{
  "test": "success"
}
```
...
2025-09-17 00:21:28,085 - INFO - Fetching chat records from database...
2025-09-17 00:21:30,895 - INFO - Found 600 chats needing content generation
2025-09-17 00:21:30,895 - INFO - Processing in 200 batches of 3 chats each
2025-09-17 00:21:30,895 - INFO - Processing batch 1/200 (3 chats)...
2025-09-17 00:21:30,896 - INFO - Starting 3 tasks with 2 workers
2025-09-17 00:21:30,899 - INFO - Submitted 3 tasks to worker pool
2025-09-17 00:24:01,192 - ERROR - Chat update error for 19:b9dfb1c6a2fc7d4fbac36afc@thread.v2: JSON parsing failed: Expecting ',' delimiter: line 294 column 6 (char 10674)
2025-09-17 00:24:02,845 - ERROR - Chat update error for 19:deefca54f22297d217c940eb@thread.v2: JSON parsing failed: Expecting ',' delimiter: line 294 column 6 (char 11083)
2025-09-17 00:24:02,847 - INFO - Batch progress: 66.7% (2/3) - Active workers: 2
