2025-09-16 09:15:10,604 - INFO - EU Banking Email Content Generator Starting...
2025-09-16 09:15:10,604 - INFO - Database: sparzaai
2025-09-16 09:15:10,604 - INFO - Collection: email
2025-09-16 09:15:10,604 - INFO - Model: gemma3:27b
2025-09-16 09:15:10,604 - INFO - Ollama URL: https://quiet-accompanied-holland-candidate.trycloudflare.com
2025-09-16 09:15:10,604 - INFO - Max Workers: 5
2025-09-16 09:15:10,604 - INFO - Batch Size: 3
2025-09-16 09:15:10,604 - INFO - Log Directory: logs
2025-09-16 09:15:11,617 - INFO - Database connection established and indexes created
2025-09-16 09:15:12,002 - INFO - Collection Statistics:
2025-09-16 09:15:12,002 - INFO - Total emails: 2004
2025-09-16 09:15:12,002 - INFO - With analysis fields: 0
2025-09-16 09:15:12,003 - INFO - Without analysis fields: 2004
2025-09-16 09:15:12,003 - INFO - Top Dominant Topics:
2025-09-16 09:15:12,003 - INFO - 1. Risk Management Alert: 31 emails
2025-09-16 09:15:12,003 - INFO - 2. User Access Approval: 30 emails
2025-09-16 09:15:12,003 - INFO - 3. Quality Assurance Breach: 28 emails
2025-09-16 09:15:12,003 - INFO - 4. IT Marketing Unresolved: 27 emails
2025-09-16 09:15:12,003 - INFO - 5. IT Access Problem: 26 emails
2025-09-16 09:15:12,003 - INFO - 6. Salary Leave Issues: 23 emails
2025-09-16 09:15:12,003 - INFO - 7. Legal Escalation: 22 emails
2025-09-16 09:15:12,003 - INFO - 8. Performance Management: 22 emails
2025-09-16 09:15:12,003 - INFO - 9. Process Exception: 22 emails
2025-09-16 09:15:12,003 - INFO - 10. Vendor Management: 22 emails
2025-09-16 09:15:12,003 - INFO - No pending intermediate results to recover
2025-09-16 09:15:12,003 - INFO - Starting EU Banking Email Content Generation...
2025-09-16 09:15:12,003 - INFO - System Info: 128 CPU cores detected
2025-09-16 09:15:12,003 - INFO - Batch size: 3
2025-09-16 09:15:12,004 - INFO - Max workers: 5
2025-09-16 09:15:12,004 - INFO - Request timeout: 120s
2025-09-16 09:15:12,004 - INFO - Max retries per request: 5
2025-09-16 09:15:12,004 - INFO - Testing connection to remote Ollama: https://quiet-accompanied-holland-candidate.trycloudflare.com
2025-09-16 09:15:12,004 - INFO - Testing simple generation...
2025-09-16 09:15:21,191 - INFO - Generation test status: 200
2025-09-16 09:15:21,192 - INFO - Ollama connection test successful
2025-09-16 09:15:21,192 - INFO - Test response: ```json
{
  "test": "success"
}
```
...
2025-09-16 09:15:21,193 - INFO - Fetching email records from database...
2025-09-16 09:15:22,566 - INFO - Found 2004 emails needing content generation
2025-09-16 09:15:22,566 - INFO - Processing in 668 batches of 3 emails each
2025-09-16 09:15:22,566 - INFO - Processing batch 1/668 (3 emails)...
2025-09-16 09:16:40,041 - INFO - Batch 1 processing complete: 3/3 successful
2025-09-16 09:16:40,041 - INFO - Batch duration: 77.47s
2025-09-16 09:16:40,041 - INFO - Saving batch of 3 updates to database...
2025-09-16 09:16:40,169 - INFO - Successfully saved 3 records to database
2025-09-16 09:16:40,169 - INFO - Sample update - Thread ID: conv_m365_b1014ac35f75
2025-09-16 09:16:40,169 - INFO - Database update complete: 3 records saved
2025-09-16 09:16:45,170 - INFO - Processing batch 2/668 (3 emails)...
2025-09-16 09:17:47,046 - INFO - Batch 2 processing complete: 3/3 successful
2025-09-16 09:17:47,046 - INFO - Batch duration: 61.88s
2025-09-16 09:17:47,046 - INFO - Saving batch of 3 updates to database...
2025-09-16 09:17:47,174 - INFO - Successfully saved 3 records to database
2025-09-16 09:17:47,174 - INFO - Sample update - Thread ID: conv_m365_cafc4146ffa3
2025-09-16 09:17:47,174 - INFO - Database update complete: 3 records saved
2025-09-16 09:17:52,175 - INFO - Processing batch 3/668 (3 emails)...
2025-09-16 09:18:58,062 - INFO - Batch 3 processing complete: 3/3 successful
2025-09-16 09:18:58,062 - INFO - Batch duration: 65.89s
2025-09-16 09:18:58,062 - INFO - Saving batch of 3 updates to database...
2025-09-16 09:18:58,193 - INFO - Successfully saved 3 records to database
2025-09-16 09:18:58,193 - INFO - Sample update - Thread ID: conv_m365_e41e9197f527
2025-09-16 09:18:58,193 - INFO - Database update complete: 3 records saved
2025-09-16 09:19:03,193 - INFO - Processing batch 4/668 (3 emails)...
2025-09-16 09:20:09,078 - INFO - Batch 4 processing complete: 3/3 successful
2025-09-16 09:20:09,079 - INFO - Batch duration: 65.88s
2025-09-16 09:20:09,079 - INFO - Saving batch of 3 updates to database...
2025-09-16 09:20:09,207 - INFO - Successfully saved 3 records to database
2025-09-16 09:20:09,207 - INFO - Sample update - Thread ID: conv_m365_7a0c7fc57aa6
2025-09-16 09:20:09,207 - INFO - Database update complete: 3 records saved
2025-09-16 09:20:14,207 - INFO - Processing batch 5/668 (3 emails)...
2025-09-16 09:21:19,129 - INFO - Batch 5 processing complete: 3/3 successful
2025-09-16 09:21:19,129 - INFO - Batch duration: 64.92s
2025-09-16 09:21:19,129 - INFO - Saving batch of 3 updates to database...
2025-09-16 09:21:19,256 - INFO - Successfully saved 3 records to database
2025-09-16 09:21:19,256 - INFO - Sample update - Thread ID: conv_m365_146cc54b1c58
2025-09-16 09:21:19,257 - INFO - Database update complete: 3 records saved
2025-09-16 09:21:19,257 - INFO - Overall Progress: 0.7% | Batches: 5/668
2025-09-16 09:21:19,257 - INFO - Success: 15 | Failures: 0 | DB Updates: 15
2025-09-16 09:21:19,258 - INFO - System: CPU 2.7% | Memory 15.5%
2025-09-16 09:21:24,258 - INFO - Processing batch 6/668 (3 emails)...
2025-09-16 09:21:56,433 - INFO - Received signal 15. Initiating graceful shutdown...
2025-09-16 09:21:56,433 - INFO - Please wait for current operations to complete...
2025-09-16 09:22:08,903 - WARNING - Cancelling remaining tasks...
2025-09-16 09:22:30,673 - INFO - Batch 6 processing complete: 1/3 successful
2025-09-16 09:22:30,674 - INFO - Batch duration: 66.42s
2025-09-16 09:22:30,674 - INFO - Shutdown requested. Stopping at batch 6/668
2025-09-16 09:22:30,674 - INFO - Content generation interrupted gracefully!
2025-09-16 09:22:30,674 - INFO - Total emails updated: 15
2025-09-16 09:22:30,674 - INFO - Successful generations: 18
2025-09-16 09:22:30,674 - INFO - Failed generations: 0
2025-09-16 09:22:30,674 - INFO - Data updated in MongoDB: sparzaai.email
2025-09-16 09:22:31,079 - INFO - Collection Statistics:
2025-09-16 09:22:31,079 - INFO - Total emails: 1000
2025-09-16 09:22:31,079 - INFO - With analysis fields: 0
2025-09-16 09:22:31,079 - INFO - Without analysis fields: 1000
2025-09-16 09:22:31,079 - INFO - Top Dominant Topics:
2025-09-16 09:22:31,079 - INFO - 1. Risk Management Alert: 17 emails
2025-09-16 09:22:31,079 - INFO - 2. Legal Escalation: 14 emails
2025-09-16 09:22:31,079 - INFO - 3. Account Access Error: 14 emails
2025-09-16 09:22:31,079 - INFO - 4. IT Marketing Unresolved: 13 emails
2025-09-16 09:22:31,079 - INFO - 5. Clearing House Problem: 12 emails
2025-09-16 09:22:31,079 - INFO - 6. Fintech Integration Error: 12 emails
2025-09-16 09:22:31,079 - INFO - 7. Covenant Compliance Question: 12 emails
2025-09-16 09:22:31,079 - INFO - 8. Vendor Management: 12 emails
2025-09-16 09:22:31,079 - INFO - 9. Salary Leave Issues: 12 emails
2025-09-16 09:22:31,079 - INFO - 10. Cross-Border Transfer Problem: 12 emails
2025-09-16 09:22:31,206 - INFO - Sample Generated Email Content:
2025-09-16 09:22:31,333 - INFO - Content validation complete: 0 issues found
2025-09-16 09:22:31,587 - INFO - Status report generated: logs/status_report_20250916_092231.json
2025-09-16 09:22:31,587 - INFO - Final session report:
2025-09-16 09:22:31,587 - INFO - Success Rate: 100.00%
2025-09-16 09:22:31,588 - INFO - Database Completion: 0.00%
2025-09-16 09:22:31,714 - INFO - Database connection closed
2025-09-16 09:22:31,715 - INFO - Session complete. Check log files for detailed information:
2025-09-16 09:22:31,715 - INFO - Main Log: logs/email_generator_20250916_091510.log
2025-09-16 09:22:31,715 - INFO - Success Log: logs/successful_generations_20250916_091510.log
2025-09-16 09:22:31,715 - INFO - Failure Log: logs/failed_generations_20250916_091510.log
2025-09-16 09:22:31,715 - INFO - Progress Log: logs/progress_20250916_091510.log
2025-09-16 09:22:31,715 - INFO - Intermediate Results: logs/intermediate_results_20250916_091510.json
2025-09-16 09:22:31,715 - INFO - Database connection closed
