2025-09-10 00:30:34,744 - INFO - Twitter Urgency Classifier Starting...
2025-09-10 00:30:34,745 - INFO - Database: sparzaai
2025-09-10 00:30:34,745 - INFO - Collection: socialmedia
2025-09-10 00:30:34,745 - INFO - Target Channel: Twitter (case-insensitive)
2025-09-10 00:30:34,746 - INFO - Model: google/gemma-3-27b-it:free
2025-09-10 00:30:36,771 - INFO - Database connection established and indexes created
2025-09-10 00:30:37,774 - INFO - Twitter Collection Statistics:
2025-09-10 00:30:37,775 - INFO - Total Twitter records: 282
2025-09-10 00:30:37,775 - INFO - With urgency classification: 35
2025-09-10 00:30:37,776 - INFO - Without urgency classification: 247
2025-09-10 00:30:37,779 - INFO - Urgent records: 16
2025-09-10 00:30:37,779 - INFO - Non-urgent records: 19
2025-09-10 00:30:38,029 - INFO - Sample record structure:
2025-09-10 00:30:38,030 - INFO -   _id: 68bb12eb35db675a8b09a223
2025-09-10 00:30:38,030 - INFO -   email_id: travishanna9819@gmail.com
2025-09-10 00:30:38,031 - INFO -   username: Travis Hanna
2025-09-10 00:30:38,032 - INFO -   channel: Twitter
2025-09-10 00:30:38,032 - INFO -   dominant_topic: Balance Update Delayed
2025-09-10 00:30:38,032 - INFO -   subtopics: Real-time Processing Problems, Process Optimization
2025-09-10 00:30:38,033 - INFO -   created_at: 2024-11-14T23:14:43Z
2025-09-10 00:30:38,033 - INFO -   domain: banking
2025-09-10 00:30:38,033 - INFO -   tweet_id: T784232
2025-09-10 00:30:38,034 - INFO -   user_id: 167052
2025-09-10 00:30:38,034 - INFO -   content_generated_at: 2025-09-06T12:30:12.856793
2025-09-10 00:30:38,035 - INFO -   hashtags: ['#BankingFail', '#DigitalBanking', '#PaymentIssues']
2025-09-10 00:30:38,035 - INFO -   like_count: 42
2025-09-10 00:30:38,036 - INFO -   priority: P2 - Medium
2025-09-10 00:30:38,036 - INFO -   quote_count: 3
2025-09-10 00:30:38,036 - INFO -   reply_count: 11
2025-09-10 00:30:38,037 - INFO -   retweet_count: 9
2025-09-10 00:30:38,037 - INFO -   sentiment: Negative
2025-09-10 00:30:38,038 - INFO -   text: Honestly, @MyEUBank, still waiting for my balance ...
2025-09-10 00:30:38,038 - INFO -   dominant_cluster_label: API, Features & Bugs
2025-09-10 00:30:38,039 - INFO -   kmeans_cluster_id: 6
2025-09-10 00:30:38,040 - INFO -   subcluster_id: 1
2025-09-10 00:30:38,040 - INFO -   subcluster_label: Software & Feature Errors
2025-09-10 00:30:38,041 - INFO -   kmeans_cluster_keyphrase: Balance Update Delayed
2025-09-10 00:30:38,041 - INFO -   urgency: False
2025-09-10 00:30:38,042 - INFO - Starting Twitter Urgency Classification...
2025-09-10 00:30:38,042 - INFO - Testing connection to OpenRouter...
2025-09-10 00:30:38,043 - INFO - Using model: google/gemma-3-27b-it:free
2025-09-10 00:30:41,142 - INFO - OpenRouter connection test successful
2025-09-10 00:30:41,143 - INFO - Fetching Twitter records from database...
2025-09-10 00:30:42,768 - INFO - Found 247 Twitter records needing urgency classification
2025-09-10 00:30:42,768 - INFO - Processing record 1/247 (ID: 68bb12eb35db675a8b09a375)
2025-09-10 00:30:52,164 - INFO - ✓ Record 68bb12eb35db675a8b09a375 classified as URGENT
2025-09-10 00:30:52,165 - INFO - Processing record 2/247 (ID: 68bb12eb35db675a8b09a377)
2025-09-10 00:30:59,898 - INFO - ✓ Record 68bb12eb35db675a8b09a377 classified as URGENT
2025-09-10 00:30:59,898 - INFO - Processing record 3/247 (ID: 68bb12eb35db675a8b09a37f)
2025-09-10 00:31:08,206 - INFO - ✓ Record 68bb12eb35db675a8b09a37f classified as URGENT
2025-09-10 00:31:08,207 - INFO - Processing record 4/247 (ID: 68bb12eb35db675a8b09a389)
2025-09-10 00:31:19,291 - INFO - ✓ Record 68bb12eb35db675a8b09a389 classified as URGENT
2025-09-10 00:31:19,292 - INFO - Processing record 5/247 (ID: 68bb12eb35db675a8b09a38e)
2025-09-10 00:31:27,381 - INFO - ✓ Record 68bb12eb35db675a8b09a38e classified as NOT URGENT
2025-09-10 00:31:27,382 - INFO - Processing record 6/247 (ID: 68bb12eb35db675a8b09a3a2)
2025-09-10 00:31:34,399 - INFO - ✓ Record 68bb12eb35db675a8b09a3a2 classified as URGENT
2025-09-10 00:31:34,399 - INFO - Processing record 7/247 (ID: 68bb12eb35db675a8b09a3a8)
2025-09-10 00:31:40,784 - INFO - ✓ Record 68bb12eb35db675a8b09a3a8 classified as URGENT
2025-09-10 00:31:40,784 - INFO - Processing record 8/247 (ID: 68bb12eb35db675a8b09a3ad)
2025-09-10 00:31:48,406 - INFO - ✓ Record 68bb12eb35db675a8b09a3ad classified as NOT URGENT
2025-09-10 00:31:48,407 - INFO - Processing record 9/247 (ID: 68bb12eb35db675a8b09a3af)
2025-09-10 00:34:50,457 - WARNING - Request timed out after 180 seconds. This might be due to model processing time.
2025-09-10 00:34:50,466 - INFO - Backing off call_openrouter_with_backoff(...) for 0.2s (requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='openrouter.ai', port=443): Read timed out. (read timeout=180))
2025-09-10 00:34:50,467 - WARNING - Retry 1/3 after 0.2s
2025-09-10 00:35:02,042 - INFO - ✓ Record 68bb12eb35db675a8b09a3af classified as NOT URGENT
2025-09-10 00:35:02,043 - INFO - Processing record 10/247 (ID: 68bb12eb35db675a8b09a3c1)
2025-09-10 00:35:08,160 - INFO - ✓ Record 68bb12eb35db675a8b09a3c1 classified as NOT URGENT
2025-09-10 00:35:08,161 - INFO - Progress: 10/247 records processed
2025-09-10 00:35:08,161 - INFO - Success: 10 | Failures: 0
2025-09-10 00:35:08,162 - INFO - Processing record 11/247 (ID: 68bb12eb35db675a8b09a3c6)
2025-09-10 00:35:16,824 - INFO - ✓ Record 68bb12eb35db675a8b09a3c6 classified as NOT URGENT
2025-09-10 00:35:16,825 - INFO - Processing record 12/247 (ID: 68bb12eb35db675a8b09a3cc)
2025-09-10 00:35:25,110 - INFO - ✓ Record 68bb12eb35db675a8b09a3cc classified as NOT URGENT
2025-09-10 00:35:25,111 - INFO - Processing record 13/247 (ID: 68bb12eb35db675a8b09a3d1)
2025-09-10 00:35:35,959 - INFO - ✓ Record 68bb12eb35db675a8b09a3d1 classified as NOT URGENT
2025-09-10 00:35:35,960 - INFO - Processing record 14/247 (ID: 68bb12eb35db675a8b09a3d5)
2025-09-10 00:35:44,761 - INFO - ✓ Record 68bb12eb35db675a8b09a3d5 classified as NOT URGENT
2025-09-10 00:35:44,762 - INFO - Processing record 15/247 (ID: 68bb12eb35db675a8b09a3f2)
2025-09-10 00:35:51,521 - INFO - ✓ Record 68bb12eb35db675a8b09a3f2 classified as NOT URGENT
2025-09-10 00:35:51,522 - INFO - Processing record 16/247 (ID: 68bb12eb35db675a8b09a3f3)
2025-09-10 00:35:58,656 - INFO - ✓ Record 68bb12eb35db675a8b09a3f3 classified as NOT URGENT
2025-09-10 00:35:58,657 - INFO - Processing record 17/247 (ID: 68bb12eb35db675a8b09a40d)
2025-09-10 00:36:04,574 - INFO - ✓ Record 68bb12eb35db675a8b09a40d classified as NOT URGENT
2025-09-10 00:36:04,575 - INFO - Processing record 18/247 (ID: 68bb12eb35db675a8b09a40e)
2025-09-10 00:36:15,188 - ERROR - HTTP error: 400 - {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3-27b-it\",\
2025-09-10 00:36:15,189 - INFO - Backing off call_openrouter_with_backoff(...) for 1.0s (requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://openrouter.ai/api/v1/chat/completions)
2025-09-10 00:36:15,189 - WARNING - Retry 1/3 after 1.0s
2025-09-10 00:36:23,593 - INFO - ✓ Record 68bb12eb35db675a8b09a40e classified as NOT URGENT
2025-09-10 00:36:23,593 - INFO - Processing record 19/247 (ID: 68bb12eb35db675a8b09a414)
2025-09-10 00:36:31,250 - INFO - ✓ Record 68bb12eb35db675a8b09a414 classified as NOT URGENT
2025-09-10 00:36:31,251 - INFO - Processing record 20/247 (ID: 68bb12eb35db675a8b09a420)
2025-09-10 00:36:39,240 - INFO - ✓ Record 68bb12eb35db675a8b09a420 classified as NOT URGENT
2025-09-10 00:36:39,241 - INFO - Progress: 20/247 records processed
2025-09-10 00:36:39,241 - INFO - Success: 20 | Failures: 0
2025-09-10 00:36:39,241 - INFO - Processing record 21/247 (ID: 68bb12eb35db675a8b09a422)
2025-09-10 00:36:48,130 - INFO - ✓ Record 68bb12eb35db675a8b09a422 classified as NOT URGENT
2025-09-10 00:36:48,130 - INFO - Processing record 22/247 (ID: 68bb12eb35db675a8b09a423)
2025-09-10 00:36:55,497 - INFO - ✓ Record 68bb12eb35db675a8b09a423 classified as URGENT
2025-09-10 00:36:55,498 - INFO - Processing record 23/247 (ID: 68bb12eb35db675a8b09a426)
2025-09-10 00:37:02,594 - INFO - ✓ Record 68bb12eb35db675a8b09a426 classified as URGENT
2025-09-10 00:37:02,595 - INFO - Processing record 24/247 (ID: 68bb12eb35db675a8b09a427)
2025-09-10 00:37:10,814 - INFO - ✓ Record 68bb12eb35db675a8b09a427 classified as URGENT
2025-09-10 00:37:10,816 - INFO - Processing record 25/247 (ID: 68bb12eb35db675a8b09a42b)
2025-09-10 00:37:18,844 - INFO - ✓ Record 68bb12eb35db675a8b09a42b classified as URGENT
2025-09-10 00:37:18,845 - INFO - Processing record 26/247 (ID: 68bb12eb35db675a8b09a435)
2025-09-10 00:37:26,342 - INFO - ✓ Record 68bb12eb35db675a8b09a435 classified as URGENT
2025-09-10 00:37:26,343 - INFO - Processing record 27/247 (ID: 68bb12eb35db675a8b09a436)
2025-09-10 00:37:32,711 - INFO - ✓ Record 68bb12eb35db675a8b09a436 classified as URGENT
2025-09-10 00:37:32,712 - INFO - Processing record 28/247 (ID: 68bb12eb35db675a8b09a447)
2025-09-10 00:37:42,344 - INFO - ✓ Record 68bb12eb35db675a8b09a447 classified as URGENT
2025-09-10 00:37:42,344 - INFO - Processing record 29/247 (ID: 68bb12eb35db675a8b09a452)
2025-09-10 00:37:51,301 - INFO - ✓ Record 68bb12eb35db675a8b09a452 classified as NOT URGENT
2025-09-10 00:37:51,302 - INFO - Processing record 30/247 (ID: 68bb12eb35db675a8b09a455)
2025-09-10 00:37:58,647 - INFO - ✓ Record 68bb12eb35db675a8b09a455 classified as URGENT
2025-09-10 00:37:58,648 - INFO - Progress: 30/247 records processed
2025-09-10 00:37:58,648 - INFO - Success: 30 | Failures: 0
2025-09-10 00:37:58,648 - INFO - Processing record 31/247 (ID: 68bb12eb35db675a8b09a461)
2025-09-10 00:38:02,050 - WARNING - Rate limit exceeded (429). Waiting before retry...
2025-09-10 00:38:12,052 - ERROR - HTTP error: 429 - {"error":{"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"50","X-RateLimit-Remain
2025-09-10 00:38:12,053 - INFO - Backing off call_openrouter_with_backoff(...) for 0.5s (requests.exceptions.HTTPError: 429 Client Error: Too Many Requests for url: https://openrouter.ai/api/v1/chat/completions)
2025-09-10 00:38:12,053 - WARNING - Retry 1/3 after 0.5s
2025-09-10 00:38:16,077 - WARNING - Rate limit exceeded (429). Waiting before retry...
2025-09-10 00:38:26,079 - ERROR - HTTP error: 429 - {"error":{"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"50","X-RateLimit-Remain
2025-09-10 00:38:26,079 - INFO - Backing off call_openrouter_with_backoff(...) for 2.0s (requests.exceptions.HTTPError: 429 Client Error: Too Many Requests for url: https://openrouter.ai/api/v1/chat/completions)
2025-09-10 00:38:26,080 - WARNING - Retry 2/3 after 2.0s
2025-09-10 00:38:32,647 - WARNING - Rate limit exceeded (429). Waiting before retry...
2025-09-10 00:38:42,649 - ERROR - HTTP error: 429 - {"error":{"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"50","X-RateLimit-Remain
2025-09-10 00:38:42,649 - ERROR - Giving up call_openrouter_with_backoff(...) after 3 tries (requests.exceptions.HTTPError: 429 Client Error: Too Many Requests for url: https://openrouter.ai/api/v1/chat/completions)
2025-09-10 00:38:42,650 - ERROR - Error processing record 68bb12eb35db675a8b09a461: 429 Client Error: Too Many Requests for url: https://openrouter.ai/api/v1/chat/completions
2025-09-10 00:38:42,651 - INFO - Processing record 32/247 (ID: 68bb12eb35db675a8b09a47b)
2025-09-10 00:38:47,556 - WARNING - Rate limit exceeded (429). Waiting before retry...
2025-09-10 00:38:57,557 - ERROR - HTTP error: 429 - {"error":{"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"50","X-RateLimit-Remain
2025-09-10 00:38:57,558 - INFO - Backing off call_openrouter_with_backoff(...) for 0.8s (requests.exceptions.HTTPError: 429 Client Error: Too Many Requests for url: https://openrouter.ai/api/v1/chat/completions)
2025-09-10 00:38:57,559 - WARNING - Retry 1/3 after 0.8s
2025-09-10 00:39:01,686 - WARNING - Rate limit exceeded (429). Waiting before retry...
2025-09-10 00:39:06,846 - INFO - Classification interrupted by user!
2025-09-10 00:39:07,942 - INFO - Twitter Collection Statistics:
2025-09-10 00:39:07,943 - INFO - Total Twitter records: 282
2025-09-10 00:39:07,943 - INFO - With urgency classification: 65
2025-09-10 00:39:07,944 - INFO - Without urgency classification: 217
2025-09-10 00:39:07,945 - INFO - Urgent records: 30
2025-09-10 00:39:07,945 - INFO - Non-urgent records: 35
2025-09-10 00:39:08,200 - INFO - Sample record structure:
2025-09-10 00:39:08,201 - INFO -   _id: 68bb12eb35db675a8b09a223
2025-09-10 00:39:08,203 - INFO -   email_id: travishanna9819@gmail.com
2025-09-10 00:39:08,203 - INFO -   username: Travis Hanna
2025-09-10 00:39:08,204 - INFO -   channel: Twitter
2025-09-10 00:39:08,206 - INFO -   dominant_topic: Balance Update Delayed
2025-09-10 00:39:08,207 - INFO -   subtopics: Real-time Processing Problems, Process Optimization
2025-09-10 00:39:08,207 - INFO -   created_at: 2024-11-14T23:14:43Z
2025-09-10 00:39:08,208 - INFO -   domain: banking
2025-09-10 00:39:08,209 - INFO -   tweet_id: T784232
2025-09-10 00:39:08,209 - INFO -   user_id: 167052
2025-09-10 00:39:08,210 - INFO -   content_generated_at: 2025-09-06T12:30:12.856793
2025-09-10 00:39:08,210 - INFO -   hashtags: ['#BankingFail', '#DigitalBanking', '#PaymentIssues']
2025-09-10 00:39:08,210 - INFO -   like_count: 42
2025-09-10 00:39:08,211 - INFO -   priority: P2 - Medium
2025-09-10 00:39:08,211 - INFO -   quote_count: 3
2025-09-10 00:39:08,211 - INFO -   reply_count: 11
2025-09-10 00:39:08,212 - INFO -   retweet_count: 9
2025-09-10 00:39:08,212 - INFO -   sentiment: Negative
2025-09-10 00:39:08,213 - INFO -   text: Honestly, @MyEUBank, still waiting for my balance ...
2025-09-10 00:39:08,213 - INFO -   dominant_cluster_label: API, Features & Bugs
2025-09-10 00:39:08,213 - INFO -   kmeans_cluster_id: 6
2025-09-10 00:39:08,213 - INFO -   subcluster_id: 1
2025-09-10 00:39:08,214 - INFO -   subcluster_label: Software & Feature Errors
2025-09-10 00:39:08,214 - INFO -   kmeans_cluster_keyphrase: Balance Update Delayed
2025-09-10 00:39:08,214 - INFO -   urgency: False
2025-09-10 00:39:08,463 - INFO - Database connection closed
2025-09-10 00:39:08,464 - INFO - Session complete. Check log files:
2025-09-10 00:39:08,465 - INFO - Main Log: logs\twitter_urgency_classifier_20250910_003034.log
2025-09-10 00:39:08,465 - INFO - Success Log: logs\successful_urgency_classifications_20250910_003034.log
2025-09-10 00:39:08,466 - INFO - Failure Log: logs\failed_urgency_classifications_20250910_003034.log
